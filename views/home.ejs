<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    body{
      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
    }
  </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>homepage</title>
</head>
<body>
   <h1>URL SHORTNER</h1>
   <% if (locals.id) { %>
    <p> URL generated:http://localhost:8000/url/<%= id %></p>
   <% } %>
   <div>
    <form method ="POST" action="/url">
      <label>Enter your original URL</label>
      <input type="text"  name="redirectURL" placeholder="http://example.com"  />
       <button type="submit"> generate new URL </button>
    </form>
   </div>
   <div>
    <% if (locals.urls) { %>
     <table>
      <thead>
        <th>SR.no</th>
        <th>SHORT ID</th>
        <th>redirect url</th>
        <th>clicks</th>
      </thead>
      <tbody>
        
       <% urls.forEach((url, index) => { %>
        <tr>
         <td><%= index+1 %></td>
         <td><%= url.shortId %></td>
         <td><%= url.redirectURL %></td>
         <td><%= url.visitHistory.length %></td>
        </tr>
        <% }) %>
      </tbody>
     </table>
    <% } %>
   </div>
</body>
</html>